<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Detect-Collisions</title><meta name="description" content="Documentation for Detect-Collisions"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="tsd-search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Detect-Collisions</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<h2>Detect-Collisions</h2></div>
<div class="tsd-panel tsd-typography"><a id="md:detect-collisions" class="tsd-anchor"></a><h1><a href="#md:detect-collisions">Detect-Collisions</a></h1><p><a href="https://www.npmts.com/package/detect-collisions?activeTab=versions"><img src="https://img.shields.io/npm/v/detect-collisions?style=for-the-badge&color=success" alt="npm version" /></a>
<a href="https://www.npmts.com/package/detect-collisions"><img src="https://img.shields.io/npm/dw/detect-collisions.svg?style=for-the-badge&color=success" alt="npm downloads per week" /></a>
<a href="https://app.circleci.com/pipelines/github/Prozi/detect-collisions"><img src="https://img.shields.io/circleci/build/github/Prozi/detect-collisions/master?style=for-the-badge" alt="build status" /></a></p>
<a id="md:introduction" class="tsd-anchor"></a><h2><a href="#md:introduction">Introduction</a></h2><p>Detect-Collisions is a robust TypeScript library for detecting collisions among varied entities. It uses Bounding Volume Hierarchy (BVH) and the Separating Axis Theorem (SAT) for efficient collision detection. Uniquely, it manages rotation, scale of bodies, and supports decomposing concave polygons into convex ones. It also optimizes detection with body padding. Ideal for gaming, simulations, or projects needing advanced collision detection, Detect-Collisions offers customization and fast performance.</p>
<a id="md:demos" class="tsd-anchor"></a><h2><a href="#md:demos">Demos</a></h2><ul>
<li><a href="https://prozi.github.io/detect-collisions/demo/">Tank</a></li>
<li><a href="https://prozi.github.io/detect-collisions/demo/?stress">Stress Test</a></li>
<li><a href="https://stackblitz.com/edit/detect-collisions">Stackblitz</a></li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><pre><code class="language-bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">detect-collisions</span>
</code><button>Copy</button></pre>
<a id="md:api-documentation" class="tsd-anchor"></a><h2><a href="#md:api-documentation">API Documentation</a></h2><p>For detailed documentation on the library&#39;s API, refer to the following link:</p>
<p><a href="https://prozi.github.io/detect-collisions/modules.html">https://prozi.github.io/detect-collisions/modules.html</a></p>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><a id="md:step-1-initialize-collision-system" class="tsd-anchor"></a><h3><a href="#md:step-1-initialize-collision-system">Step 1: Initialize Collision System</a></h3><p>Detect-Collisions extends functionalities from RBush. To begin, establish a unique collision system.</p>
<pre><code class="language-ts"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">System</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&quot;detect-collisions&quot;</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">system</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">System</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<a id="md:step-2-understand-body-attributes" class="tsd-anchor"></a><h3><a href="#md:step-2-understand-body-attributes">Step 2: Understand Body Attributes</a></h3><p>Bodies have various properties:</p>
<ul>
<li><p><strong>Position Attributes</strong>: <code>pos: Vector</code>, <code>x: number</code>, <code>y: number</code>. Setting <code>body.pos.x</code> or <code>body.pos.y</code> doesn&#39;t update the bounding box while setting <code>body.x</code> or <code>body.y</code> directly does. To set both at the same time, use <code>setPosition(x, y)</code>.</p>
</li>
<li><p><strong>Scale, Offset</strong>: Bodies have <code>scale: number</code> shorthand property and <code>setScale(x, y)</code> method for scaling. The <code>offset: Vector</code> property and <code>setOffset({ x, y }: Vector)</code> method are for offset from body center for rotation purposes.</p>
</li>
<li><p><strong>AABB Bounding Box</strong>: You can get the bounding box even on non-inserted bodies with <code>getAABBAsBBox(): BBox</code> method.</p>
</li>
</ul>
<p>Bodies contain additional properties (<code>BodyOptions</code>) that can be set in runtime or during creation:</p>
<ul>
<li><code>angle: number</code>: Use <code>setAngle(angle: number)</code> to change it during runtime.</li>
<li><code>isStatic: boolean</code>: If set to true, the body won&#39;t move during <code>system.separare()</code>. For walls.</li>
<li><code>isTrigger: boolean</code>: If set to true, the body won&#39;t move during <code>system.separate()</code>. For projectiles.</li>
<li><code>isCentered: boolean</code>: If set to true, offset is set to center for rotation purposes.</li>
<li><code>padding: number</code>: Bounding box padding, optimizes costly updates.</li>
</ul>
<p>Use <code>isConvex: boolean</code> and <code>convexPolygons: Vector[][]</code> to check if the <code>Polygon</code> is convex.</p>
<p>Each body type has specific properties, for example, a <code>Box</code> has <code>width</code> &amp; <code>height</code> properties.</p>
<a id="md:step-3-create-and-manage-bodies" class="tsd-anchor"></a><h3><a href="#md:step-3-create-and-manage-bodies">Step 3: Create and Manage Bodies</a></h3><p>Use <code>BodyOptions</code> as the last optional parameter during body creation.</p>
<pre><code class="language-ts"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">deg2rad</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&quot;detect-collisions&quot;</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">options</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">angle:</span><span class="hl-1"> </span><span class="hl-0">deg2rad</span><span class="hl-1">(</span><span class="hl-6">90</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-5">isStatic:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">isTrigger:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">isCentered:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">padding:</span><span class="hl-1"> </span><span class="hl-6">0</span><span class="hl-1">,</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<p>Create body of various types using:</p>
<pre><code class="language-ts"><span class="hl-3">const</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Box</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Circle</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Ellipse</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Line</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Point</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Polygon</span><span class="hl-1">,</span><br/><span class="hl-1">} = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&quot;detect-collisions&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// create with options, without insert</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">box</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Box</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">width</span><span class="hl-1">, </span><span class="hl-5">height</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">circle</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Circle</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">radius</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">ellipse</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Ellipse</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">radiusX</span><span class="hl-1">, </span><span class="hl-5">radiusY</span><span class="hl-1">, </span><span class="hl-5">step</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">line</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Line</span><span class="hl-1">(</span><span class="hl-5">start</span><span class="hl-1">, </span><span class="hl-5">end</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">point</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Point</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">polygon</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Polygon</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">points</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>Insert a body into the system:</p>
<pre><code class="language-ts"><span class="hl-7">// insert any of the above</span><br/><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">insert</span><span class="hl-1">(</span><span class="hl-5">body</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>Create and insert body in one step:</p>
<pre><code class="language-ts"><span class="hl-7">// create with options, and insert</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">box</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">createBox</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">width</span><span class="hl-1">, </span><span class="hl-5">height</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">circle</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">createCircle</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">radius</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">ellipse</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">createEllipse</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">radiusX</span><span class="hl-1">, </span><span class="hl-5">radiusY</span><span class="hl-1">, </span><span class="hl-5">step</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">line</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">createLine</span><span class="hl-1">(</span><span class="hl-5">start</span><span class="hl-1">, </span><span class="hl-5">end</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">point</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">createPoint</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">polygon</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">createPolygon</span><span class="hl-1">(</span><span class="hl-5">position</span><span class="hl-1">, </span><span class="hl-5">points</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:step-4-manipulate-bodies" class="tsd-anchor"></a><h3><a href="#md:step-4-manipulate-bodies">Step 4: Manipulate Bodies</a></h3><p>Notice the last parameter of each of the below 4 functions defaults to <code>true</code> if omitted.</p>
<ul>
<li><p><code>setPosition(x: number, y: number, update = true)</code>:</p>
<ul>
<li>Sets the position of the body to the specified <code>(x, y)</code> coordinates in the 2D space.</li>
</ul>
</li>
<li><p><code>setScale(x: number, y?: number, update = true)</code>:</p>
<ul>
<li>Sets the scale of the body along the x-axis and y-axis (optional).</li>
<li>Allows resizing the body.</li>
</ul>
</li>
<li><p><code>setAngle(angle: number, update = true)</code>:</p>
<ul>
<li>Sets the rotation angle of the body to the specified value.</li>
<li>Used for rotating the body around its center.</li>
<li>Angle in radians, use <code>deg2rad(degrees: number)</code> for conversion.</li>
</ul>
</li>
<li><p><code>setOffset(offset: { x: number, y: number }, update = true)</code>:</p>
<ul>
<li>Sets the offset of the body from its center.</li>
<li>Used to position the body&#39;s collision shape more accurately.</li>
</ul>
</li>
<li><p><code>updateBody()</code>:</p>
<ul>
<li>Updates body AABB in collision tree, please call this after all manipulations are done</li>
</ul>
</li>
</ul>
<p>Depending on your use case:</p>
<ul>
<li><p>If you use only position updates stick to <code>setPosition(x, y)</code> and don&#39;t use <code>system.update()</code> or <code>body.updateBody()</code>. Since the last parameter of each manipulation function (<code>update</code>) defaults to <code>true</code>, this way will make that body bounding box update after that <code>setPosition</code> call,</p>
</li>
<li><p>If you use 2 or more manipulation methods, like position plus any other aspect like scale/angle/offset, you should call manipulation functions with last parameter set to <code>false</code> (for example: <code>setPosition(x, y, false)</code>)</p>
<ul>
<li>After all of those manipulations are done, call once <code>body.updateBody()</code> to update the bounding box once. This method is most efficient.</li>
<li>Alternatively, after all updates of bodies in this frame are finished, call once <code>system.update()</code> which will iterate over all bodies and update their bounding box. This method is slightly less efficient.</li>
</ul>
</li>
</ul>
<a id="md:step-5-collision-detection-and-resolution" class="tsd-anchor"></a><h3><a href="#md:step-5-collision-detection-and-resolution">Step 5: Collision Detection and Resolution</a></h3><p>Check collisions for all bodies or a single body:</p>
<pre><code class="language-ts"><span class="hl-7">// all bodies</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">collided</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">checkAll</span><span class="hl-1">((</span><span class="hl-5">response</span><span class="hl-1">: </span><span class="hl-8">Response</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">// if you want to end after first collision</span><br/><span class="hl-1">  </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">// check for one `body`</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">collided</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">checkOne</span><span class="hl-1">(</span><span class="hl-5">body</span><span class="hl-1">, (</span><span class="hl-5">response</span><span class="hl-1">: </span><span class="hl-8">Response</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">// if you want to end after first collision</span><br/><span class="hl-1">  </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">;</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p>For a direct collision check without broad-phase search, use <code>system.checkCollision(body1, body2)</code>. However, this isn&#39;t recommended due to efficiency loss.</p>
<p>Access detailed collision information in the system.response object, which includes properties like <code>a, b, overlap, overlapN, overlapV, aInB, and bInA</code>.</p>
<p>In case of overlap during collision, subtract the overlap vector from the position of the body to eliminate the collision. This can be achieved as follows:</p>
<pre><code class="language-ts"><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">checkCollision</span><span class="hl-1">(</span><span class="hl-5">player</span><span class="hl-1">, </span><span class="hl-5">wall</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">overlapV</span><span class="hl-1"> } = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-5">response</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">player</span><span class="hl-1">.</span><span class="hl-0">setPosition</span><span class="hl-1">(</span><span class="hl-5">player</span><span class="hl-1">.</span><span class="hl-5">x</span><span class="hl-1"> - </span><span class="hl-5">overlapV</span><span class="hl-1">.</span><span class="hl-5">x</span><span class="hl-1">, </span><span class="hl-5">player</span><span class="hl-1">.</span><span class="hl-5">y</span><span class="hl-1"> - </span><span class="hl-5">overlapV</span><span class="hl-1">.</span><span class="hl-5">y</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:step-6-collision-response" class="tsd-anchor"></a><h3><a href="#md:step-6-collision-response">Step 6: Collision Response</a></h3><p>After detecting a collision, you may want to respond or &quot;react&quot; to it in some way. This could be as simple as stopping a character from moving through a wall, or as complex as calculating the resulting velocities of a multi-object collision in a physics simulation.</p>
<p>Here&#39;s a simple example:</p>
<pre><code class="language-ts"><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">checkAll</span><span class="hl-1">((</span><span class="hl-5">response</span><span class="hl-1">: </span><span class="hl-8">Response</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">a</span><span class="hl-1">.</span><span class="hl-5">isPlayer</span><span class="hl-1"> &amp;&amp; </span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">b</span><span class="hl-1">.</span><span class="hl-5">isWall</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">// Player can&#39;t move through walls</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">overlapV</span><span class="hl-1"> } = </span><span class="hl-5">response</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">a</span><span class="hl-1">.</span><span class="hl-0">setPosition</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">a</span><span class="hl-1">.</span><span class="hl-5">x</span><span class="hl-1"> - </span><span class="hl-5">overlapV</span><span class="hl-1">.</span><span class="hl-5">x</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">a</span><span class="hl-1">.</span><span class="hl-5">y</span><span class="hl-1"> - </span><span class="hl-5">overlapV</span><span class="hl-1">.</span><span class="hl-5">y</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  } </span><span class="hl-9">else</span><span class="hl-1"> </span><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">a</span><span class="hl-1">.</span><span class="hl-5">isBullet</span><span class="hl-1"> &amp;&amp; </span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">b</span><span class="hl-1">.</span><span class="hl-5">isEnemy</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">// Bullet hits enemy</span><br/><span class="hl-1">    </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">a</span><span class="hl-1">); </span><span class="hl-7">// Remove bullet</span><br/><span class="hl-1">    </span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">b</span><span class="hl-1">.</span><span class="hl-0">takeDamage</span><span class="hl-1">(); </span><span class="hl-7">// Damage enemy</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:step-7-system-separation" class="tsd-anchor"></a><h3><a href="#md:step-7-system-separation">Step 7: System Separation</a></h3><p>There is an easy way to handle overlap and separation of bodies during collisions. Use system.separate() after updating the system. This function takes into account <code>isTrigger</code> and <code>isStatic</code> flags on bodies.</p>
<pre><code class="language-ts"><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">separate</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>This function provides a simple way to handle collisions without needing to manually calculate and negate overlap.</p>
<a id="md:step-8-cleaning-up" class="tsd-anchor"></a><h3><a href="#md:step-8-cleaning-up">Step 8: Cleaning Up</a></h3><p>When you&#39;re done with a body, you should remove it from the system to free up memory and keep the collision checks efficient. You can do this with the remove method:</p>
<pre><code class="language-ts"><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-5">body</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>This will remove the body from the system&#39;s internal data structures, preventing it from being included in future collision checks. If you keep a reference to the body, you can insert it again later with <code>system.insert(body)</code>.</p>
<p>Remember to always keep your collision system as clean as possible. This means removing bodies when they&#39;re not needed, and avoiding unnecessary updates. Following these guidelines will help ensure your project runs smoothly and efficiently.</p>
<p>And that&#39;s it! You&#39;re now ready to use the Detect-Collisions library in your project. Whether you&#39;re making a game, a simulation, or any other kind of interactive experience, Detect-Collisions provides a robust, efficient, and easy-to-use solution for collision detection. Happy coding!</p>
<a id="md:detecting-collision-after-insertion" class="tsd-anchor"></a><h2><a href="#md:detecting-collision-after-insertion">Detecting collision after insertion</a></h2><pre><code class="language-ts"><span class="hl-7">// create self-destructing collider</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-0">testCollision</span><span class="hl-1"> = ({ </span><span class="hl-5">x</span><span class="hl-1">, </span><span class="hl-5">y</span><span class="hl-1"> }, </span><span class="hl-5">radius</span><span class="hl-1"> = </span><span class="hl-6">10</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">// create and add to tree</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">circle</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">createCircle</span><span class="hl-1">({ </span><span class="hl-5">x</span><span class="hl-1">, </span><span class="hl-5">y</span><span class="hl-1"> }, </span><span class="hl-5">radius</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">// init as false</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">collided</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">checkOne</span><span class="hl-1">(</span><span class="hl-5">circle</span><span class="hl-1">, () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">// ends iterating after first collision</span><br/><span class="hl-1">    </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">;</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-7">// remove from tree</span><br/><span class="hl-1">  </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-5">circle</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-5">collided</span><span class="hl-1"> ? </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-5">response</span><span class="hl-1"> : </span><span class="hl-3">null</span><span class="hl-1">;</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<a id="md:handling-concave-polygons" class="tsd-anchor"></a><h2><a href="#md:handling-concave-polygons">Handling Concave Polygons</a></h2><p>As of version 6.8.0, Detect-Collisions fully supports non-convex or hollow polygons*, provided they are valid. Learn more about this feature from <a href="https://github.com/Prozi/detect-collisions/issues/45">GitHub Issue #45</a> or experiment with it on <a href="https://stackblitz.com/edit/detect-collisions">Stackblitz</a>.</p>
<a id="md:visual-debugging-with-rendering" class="tsd-anchor"></a><h2><a href="#md:visual-debugging-with-rendering">Visual Debugging with Rendering</a></h2><p>To facilitate debugging, Detect-Collisions allows you to visually represent the collision bodies. By invoking the <code>draw()</code> method and supplying a 2D context of a <code>&lt;canvas&gt;</code> element, you can draw all the bodies within a collision system.</p>
<pre><code class="language-ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">canvas</span><span class="hl-1"> = </span><span class="hl-5">document</span><span class="hl-1">.</span><span class="hl-0">createElement</span><span class="hl-1">(</span><span class="hl-2">&quot;canvas&quot;</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">context</span><span class="hl-1"> = </span><span class="hl-5">canvas</span><span class="hl-1">.</span><span class="hl-0">getContext</span><span class="hl-1">(</span><span class="hl-2">&quot;2d&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-5">strokeStyle</span><span class="hl-1"> = </span><span class="hl-2">&quot;#FFFFFF&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-0">beginPath</span><span class="hl-1">();</span><br/><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">draw</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">);</span><br/><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-0">stroke</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>You can also opt to draw individual bodies.</p>
<pre><code class="language-ts"><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-5">strokeStyle</span><span class="hl-1"> = </span><span class="hl-2">&quot;#FFFFFF&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-0">beginPath</span><span class="hl-1">();</span><br/><span class="hl-7">// draw specific body</span><br/><span class="hl-5">body</span><span class="hl-1">.</span><span class="hl-0">draw</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">);</span><br/><span class="hl-7">// draw whole system</span><br/><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">draw</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">);</span><br/><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-0">stroke</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>To assess the <a href="https://en.wikipedia.org/wiki/Bounding_volume_hierarchy">Bounding Volume Hierarchy</a>, you can draw the BVH.</p>
<pre><code class="language-ts"><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-5">strokeStyle</span><span class="hl-1"> = </span><span class="hl-2">&quot;#FFFFFF&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-0">beginPath</span><span class="hl-1">();</span><br/><span class="hl-7">// draw specific body bounding box</span><br/><span class="hl-5">body</span><span class="hl-1">.</span><span class="hl-0">drawBVH</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">);</span><br/><span class="hl-7">// draw bounding volume hierarchy of the system</span><br/><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">drawBVH</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">);</span><br/><span class="hl-5">context</span><span class="hl-1">.</span><span class="hl-0">stroke</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<a id="md:raycasting" class="tsd-anchor"></a><h2><a href="#md:raycasting">Raycasting</a></h2><p>Detect-Collisions provides the functionality to gather raycast data. Here&#39;s how:</p>
<pre><code class="language-ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">start</span><span class="hl-1"> = { </span><span class="hl-5">x:</span><span class="hl-1"> </span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-5">y:</span><span class="hl-1"> </span><span class="hl-6">0</span><span class="hl-1"> };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">end</span><span class="hl-1"> = { </span><span class="hl-5">x:</span><span class="hl-1"> </span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-5">y:</span><span class="hl-1"> -</span><span class="hl-6">10</span><span class="hl-1"> };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">hit</span><span class="hl-1"> = </span><span class="hl-5">system</span><span class="hl-1">.</span><span class="hl-0">raycast</span><span class="hl-1">(</span><span class="hl-5">start</span><span class="hl-1">, </span><span class="hl-5">end</span><span class="hl-1">);</span><br/><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-5">hit</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">point</span><span class="hl-1">, </span><span class="hl-4">body</span><span class="hl-1"> } = </span><span class="hl-5">hit</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">({ </span><span class="hl-5">point</span><span class="hl-1">, </span><span class="hl-5">body</span><span class="hl-1"> });</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>In this example, <code>point</code> is a <code>Vector</code> with the coordinates of the nearest intersection, and <code>body</code> is a reference to the closest body.</p>
<a id="md:contributing-to-the-project" class="tsd-anchor"></a><h2><a href="#md:contributing-to-the-project">Contributing to the Project</a></h2><p>We welcome contributions! Feel free to open a merge request. When doing so, please adhere to the following code style guidelines:</p>
<ul>
<li>Execute the <code>npm run precommit</code> script prior to submitting your merge request</li>
<li>Follow the <a href="https://www.conventionalcommits.org/en/v1.0.0/#summary">conventional commits</a> standard</li>
<li>Refrain from using the <code>any</code> type</li>
</ul>
<a id="md:additional-considerations" class="tsd-anchor"></a><h2><a href="#md:additional-considerations">Additional Considerations</a></h2><a id="md:why-not-use-a-physics-engine" class="tsd-anchor"></a><h3><a href="#md:why-not-use-a-physics-engine">Why not use a physics engine?</a></h3><p>While physics engines like <a href="https://github.com/liabru/matter-js">Matter-js</a> or <a href="https://github.com/shakiba/planck.js">Planck.js</a> are recommended for projects that need comprehensive physics simulation, not all projects require such complexity. In fact, using a physics engine solely for collision detection can lead to unnecessary overhead and complications due to built-in assumptions (gravity, velocity, friction, etc.). Detect-Collisions is purpose-built for efficient and robust collision detection, making it an excellent choice for projects that primarily require this functionality. It can also serve as the foundation for a custom physics engine.</p>
<a id="md:benchmark" class="tsd-anchor"></a><h2><a href="#md:benchmark">Benchmark</a></h2><pre><code class="language-bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/Prozi/detect-collisions.git</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">cd</span><span class="hl-1"> </span><span class="hl-2">detect-collisions</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><span class="hl-1"> </span><span class="hl-2">benchmark</span><span class="hl-1"> [milliseconds=1000]</span>
</code><button>Copy</button></pre>
<p>will show you the <a href="https://prozi.github.io/detect-collisions/demo/?stress">Stress Demo</a> results without drawing,
only using Detect-Collisions and with different <em>N</em> amounts of dynamic, moving bodies</p>
<p>typical output:</p>
<pre><code class="language-bash"><span class="hl-0">┌─────────┌─────────┬─────┐</span><br/><span class="hl-0">│</span><span class="hl-1"> (index) │  items  │ FPS │</span><br/><span class="hl-0">├─────────┼─────────┼─────┤</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">0</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-2">&#39;total&#39;</span><span class="hl-1"> </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">659</span><span class="hl-1"> </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">1</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">1000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">244</span><span class="hl-1"> </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">2</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">2000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">133</span><span class="hl-1"> </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">3</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">3000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">87</span><span class="hl-1">  </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">4</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">4000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">55</span><span class="hl-1">  </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">5</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">5000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">40</span><span class="hl-1">  </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">6</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">6000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">31</span><span class="hl-1">  </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">7</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">7000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">22</span><span class="hl-1">  </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">8</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">8000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">18</span><span class="hl-1">  </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">    </span><span class="hl-6">9</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">9000</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">16</span><span class="hl-1">  </span><span class="hl-2">│</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-6">10</span><span class="hl-1">    </span><span class="hl-2">│</span><span class="hl-1">  </span><span class="hl-6">10000</span><span class="hl-1">  </span><span class="hl-2">│</span><span class="hl-1"> </span><span class="hl-6">13</span><span class="hl-1">  </span><span class="hl-2">│</span><br/><span class="hl-0">└─────────┴─────────┴─────┘</span><br/><span class="hl-0">Done</span><span class="hl-1"> </span><span class="hl-2">in</span><span class="hl-1"> </span><span class="hl-6">14.58</span><span class="hl-2">s.</span>
</code><button>Copy</button></pre>
</div></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:detect-collisions"><span>Detect-<wbr/>Collisions</span></a></li>
<li>
<ul>
<li><a href="#md:introduction"><span>Introduction</span></a></li>
<li><a href="#md:demos"><span>Demos</span></a></li>
<li><a href="#md:installation"><span>Installation</span></a></li>
<li><a href="#md:api-documentation"><span>API <wbr/>Documentation</span></a></li>
<li><a href="#md:usage"><span>Usage</span></a></li>
<li>
<ul>
<li><a href="#md:step-1-initialize-collision-system"><span>Step 1: <wbr/>Initialize <wbr/>Collision <wbr/>System</span></a></li>
<li><a href="#md:step-2-understand-body-attributes"><span>Step 2: <wbr/>Understand <wbr/>Body <wbr/>Attributes</span></a></li>
<li><a href="#md:step-3-create-and-manage-bodies"><span>Step 3: <wbr/>Create and <wbr/>Manage <wbr/>Bodies</span></a></li>
<li><a href="#md:step-4-manipulate-bodies"><span>Step 4: <wbr/>Manipulate <wbr/>Bodies</span></a></li>
<li><a href="#md:step-5-collision-detection-and-resolution"><span>Step 5: <wbr/>Collision <wbr/>Detection and <wbr/>Resolution</span></a></li>
<li><a href="#md:step-6-collision-response"><span>Step 6: <wbr/>Collision <wbr/>Response</span></a></li>
<li><a href="#md:step-7-system-separation"><span>Step 7: <wbr/>System <wbr/>Separation</span></a></li>
<li><a href="#md:step-8-cleaning-up"><span>Step 8: <wbr/>Cleaning <wbr/>Up</span></a></li></ul></li>
<li><a href="#md:detecting-collision-after-insertion"><span>Detecting collision after insertion</span></a></li>
<li><a href="#md:handling-concave-polygons"><span>Handling <wbr/>Concave <wbr/>Polygons</span></a></li>
<li><a href="#md:visual-debugging-with-rendering"><span>Visual <wbr/>Debugging with <wbr/>Rendering</span></a></li>
<li><a href="#md:raycasting"><span>Raycasting</span></a></li>
<li><a href="#md:contributing-to-the-project"><span>Contributing to the <wbr/>Project</span></a></li>
<li><a href="#md:additional-considerations"><span>Additional <wbr/>Considerations</span></a></li>
<li>
<ul>
<li><a href="#md:why-not-use-a-physics-engine"><span>Why not use a physics engine?</span></a></li></ul></li>
<li><a href="#md:benchmark"><span>Benchmark</span></a></li></ul></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4-path"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)" id="icon-4-text"></path></svg><span>Detect-<wbr/>Collisions</span></a>
<ul class="tsd-small-nested-navigation">
<li><a href="enums/BodyType.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-enum)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-8-path"></rect><path d="M9.45 16V7.24H14.49V8.224H10.518V10.936H14.07V11.908H10.518V15.016H14.49V16H9.45Z" fill="var(--color-text)" id="icon-8-text"></path></svg><span>Body<wbr/>Type</span></a></li>
<li><a href="classes/Box.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-128-path"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)" id="icon-128-text"></path></svg><span>Box</span></a></li>
<li><a href="classes/Circle.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Circle</span></a></li>
<li><a href="classes/Ellipse.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Ellipse</span></a></li>
<li><a href="classes/Line.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Line</span></a></li>
<li><a href="classes/Point.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Point</span></a></li>
<li><a href="classes/Polygon.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Polygon</span></a></li>
<li><a href="classes/RBush.html" class="tsd-is-external"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>RBush</span></a></li>
<li><a href="classes/Response.html" class="tsd-is-external"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Response</span></a></li>
<li><a href="classes/SATCircle.html" class="tsd-is-external"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>SATCircle</span></a></li>
<li><a href="classes/SATPolygon.html" class="tsd-is-external"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>SATPolygon</span></a></li>
<li><a href="classes/SATVector.html" class="tsd-is-external"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>SATVector</span></a></li>
<li><a href="classes/System.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>System</span></a></li>
<li><a href="interfaces/BBox.html" class="tsd-is-external"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-256-path"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)" id="icon-256-text"></path></svg><span>BBox</span></a></li>
<li><a href="interfaces/BodyOptions.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg><span>Body<wbr/>Options</span></a></li>
<li><a href="interfaces/BodyProps.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg><span>Body<wbr/>Props</span></a></li>
<li><a href="interfaces/ChildrenData.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg><span>Children<wbr/>Data</span></a></li>
<li><a href="interfaces/Data.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg><span>Data</span></a></li>
<li><a href="interfaces/GetAABBAsBox.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg><span>GetAABBAs<wbr/>Box</span></a></li>
<li><a href="interfaces/PotentialVector.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg><span>Potential<wbr/>Vector</span></a></li>
<li><a href="interfaces/RaycastHit.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg><span>Raycast<wbr/>Hit</span></a></li>
<li><a href="interfaces/Vector.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg><span>Vector</span></a></li>
<li><a href="types/Body.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4194304-path"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)" id="icon-4194304-text"></path></svg><span>Body</span></a></li>
<li><a href="types/CheckCollisionCallback.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Check<wbr/>Collision<wbr/>Callback</span></a></li>
<li><a href="types/DecompPoint.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Decomp<wbr/>Point</span></a></li>
<li><a href="types/DecompPolygon.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Decomp<wbr/>Polygon</span></a></li>
<li><a href="types/Leaf.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Leaf</span></a></li>
<li><a href="types/SATTest.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>SATTest</span></a></li>
<li><a href="variables/DEG2RAD.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-variable)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-32-path"></rect><path d="M11.106 16L8.85 7.24H9.966L11.454 13.192C11.558 13.608 11.646 13.996 11.718 14.356C11.79 14.708 11.842 14.976 11.874 15.16C11.906 14.976 11.954 14.708 12.018 14.356C12.09 13.996 12.178 13.608 12.282 13.192L13.758 7.24H14.85L12.582 16H11.106Z" fill="var(--color-text)" id="icon-32-text"></path></svg><span>DEG2RAD</span></a></li>
<li><a href="variables/RAD2DEG.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-32-path"></use><use href="#icon-32-text"></use></svg><span>RAD2DEG</span></a></li>
<li><a href="functions/bodyMoved.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-64-path"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)" id="icon-64-text"></path></svg><span>body<wbr/>Moved</span></a></li>
<li><a href="functions/checkAInB.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>checkAInB</span></a></li>
<li><a href="functions/circleInCircle.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>circle<wbr/>In<wbr/>Circle</span></a></li>
<li><a href="functions/circleInPolygon.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>circle<wbr/>In<wbr/>Polygon</span></a></li>
<li><a href="functions/circleOutsidePolygon.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>circle<wbr/>Outside<wbr/>Polygon</span></a></li>
<li><a href="functions/clockwise.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>clockwise</span></a></li>
<li><a href="functions/clonePointsArray.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>clone<wbr/>Points<wbr/>Array</span></a></li>
<li><a href="functions/createBox.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>create<wbr/>Box</span></a></li>
<li><a href="functions/createEllipse.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>create<wbr/>Ellipse</span></a></li>
<li><a href="functions/dashLineTo.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>dash<wbr/>Line<wbr/>To</span></a></li>
<li><a href="functions/deg2rad-1.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>deg2rad</span></a></li>
<li><a href="functions/distance.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>distance</span></a></li>
<li><a href="functions/drawBVH.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>drawBVH</span></a></li>
<li><a href="functions/drawPolygon.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>draw<wbr/>Polygon</span></a></li>
<li><a href="functions/ensureConvex.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>ensure<wbr/>Convex</span></a></li>
<li><a href="functions/ensurePolygonPoints.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>ensure<wbr/>Polygon<wbr/>Points</span></a></li>
<li><a href="functions/ensureVectorPoint.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>ensure<wbr/>Vector<wbr/>Point</span></a></li>
<li><a href="functions/extendBody.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>extend<wbr/>Body</span></a></li>
<li><a href="functions/getBounceDirection.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>get<wbr/>Bounce<wbr/>Direction</span></a></li>
<li><a href="functions/getSATTest.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>getSATTest</span></a></li>
<li><a href="functions/intersectAABB.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>intersectAABB</span></a></li>
<li><a href="functions/intersectLineCircle.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>intersect<wbr/>Line<wbr/>Circle</span></a></li>
<li><a href="functions/intersectLineLine.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>intersect<wbr/>Line<wbr/>Line</span></a></li>
<li><a href="functions/intersectLineLineFast.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>intersect<wbr/>Line<wbr/>Line<wbr/>Fast</span></a></li>
<li><a href="functions/intersectLinePolygon.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>intersect<wbr/>Line<wbr/>Polygon</span></a></li>
<li><a href="functions/isSimple.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>is<wbr/>Simple</span></a></li>
<li><a href="functions/mapArrayToVector.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>map<wbr/>Array<wbr/>To<wbr/>Vector</span></a></li>
<li><a href="functions/mapVectorToArray.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>map<wbr/>Vector<wbr/>To<wbr/>Array</span></a></li>
<li><a href="functions/notIntersectAABB.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>not<wbr/>IntersectAABB</span></a></li>
<li><a href="functions/pointInPolygon.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>point<wbr/>In<wbr/>Polygon</span></a></li>
<li><a href="functions/pointOnCircle.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>point<wbr/>On<wbr/>Circle</span></a></li>
<li><a href="functions/polygonInCircle.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>polygon<wbr/>In<wbr/>Circle</span></a></li>
<li><a href="functions/polygonInPolygon.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>polygon<wbr/>In<wbr/>Polygon</span></a></li>
<li><a href="functions/rad2deg-1.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>rad2deg</span></a></li></ul></nav></div></div></div>
<div class="tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div></body></html>